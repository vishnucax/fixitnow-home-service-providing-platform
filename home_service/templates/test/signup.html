{% extends 'index.html' %}
{% load static %}
{% block body %}

<style>
	.imgs {
		height: 300px;
	}
</style>

{% if error == "create" %}
<script>
	alert('Registration Successful');
	window.location = '{% url 'login' %}';
</script>
{% endif %}
<!-- //header -->
<!-- banner -->
<!-- banner-slider -->
<div class="w3l_banner_info" style="height:10px">
	<div class="slider1">
		<div class="callbacks_container">
			<ul class="rslides" id="slider3">
				<li>
					<div class="slider1-img" style="height:90px">
						<div class="slider_banner_info">
						</div>
					</div>
				</li>
			</ul>
		</div>
	</div>
</div>
<!-- //banner-slider -->
</div>
</header>
<section class="contact  py-lg-5 py-md-4 py-md-3 py-2" id="contact">
	<!-- contact -->
	<section class="wthree-row py-5 w3-contact" id="contact">
		<div class="container py-md-5">
			<h5 class="w3ls-title text-center text-uppercase pb-md-5 pb-4"></h5>
			<div class="row contact-form ">
				<div class="col-lg-6  mt-lg-0 mt-5 map contact-right">
					<div class="address mt-3">
						<h5 class="pb-3 text-capitalize"></h5>
						<address>
							<!-- <img src="{% static 'images/register.png' %}" style="width:70%" alt/> -->
							<img class='imgs'
								src="https://worldofworkers.com/wp-content/uploads/2023/08/What_is_Two_Factor_Authentication.jpg"
								alt="">
							<div class="text-center">
								<a class="text-primary" href="{%url 'login'%}">Login your existing account</a>
							</div>
						</address>
					</div>
				</div>
				<div class="col-lg-6 wthree-form-left">
					<!-- contact form grid -->
					<div class="contact-top1">
						<form action="#" method="post" class="f-color" enctype="multipart/form-data"
							onsubmit="validatePasswords(event)">
							<div class="mb-lg-4 mb-md-3 mb-sm-2 mb-2 text-center">
								<span class="h2">Registration Form</span>
							</div>
							{% csrf_token %}
							<div class="row">
								<div class="col-md-6">
									<label for="contactusername">Username</label>
									<input class="form-control" type="text" name="uname" placeholder="Username"
										required="">
								</div>
								<div class="col-md-6">
									<label for="contactusername">Email</label>
									<input class="form-control" type="email" name="email" placeholder="Email address"
										required="">
								</div>
							</div>

							<div class="row">
								<div class="col-md-6">
									<label for="contactusername">First name</label>
									<input class="form-control" type="text" name="fname" placeholder="First Name"
										required="">
								</div>
								<div class="col-md-6">
									<label for="contactemail">Last Name</label>
									<input class="form-control" type="text" name="lname" placeholder="Last Name"
										required="">
								</div>
							</div>
							<div class="row">
								<!-- <div class="col-md-6">
									<label for="contactemail">Password</label>
									<input class="form-control" type="password" name="pwd" placeholder="Password"
										required="">
								</div>
								
								<div class="col-md-6">
									<label for="contactemail">Confirm Password</label>
									<input class="form-control" type="password" name="cpwd" placeholder="Password"
										required="">
								</div> -->
								<div class="row">
									<div class="col-md-6">
										<label for="pwd">Password</label>
										<input class="form-control" type="password" name="pwd" id="pwd"
											title="Must be 8+ characters with uppercase, lowercase, number, and special character"
											required autocomplete="new-password">
									</div>

									<div class="col-md-6">
										<label for="cpwd">Confirm Password</label>
										<input class="form-control" type="password" name="cpwd" id="cpwd"
											placeholder="Confirm Password" required="" autocomplete="new-password">
									</div>
								</div>

							</div>
							<div class="row">
								<div class="col-md-6">
									<label for="contactusername">Image</label>
									<input class="form-control" type="file" name="image" required="">
								</div>
							</div>
							<div class="row">
								<div class="col-md-12">
									<label for="contact">Contact</label>
									<input class="form-control" type="text" name="contact" id="contact"
										placeholder="Phone Number" required maxlength="10" pattern="\d{10}"
										title="Enter exactly 10 digits" oninput="validateContact(this)">
								</div>
							</div>
							<div class="row">
								<div class="col-md-12">
									<label for="contactemail">Address</label>
									<input class="form-control" type="text" name="address" placeholder="Address"
										required="">
								</div>
							</div>
							<div class="form-group">
								<div class="col-md-12">
									<label for="contactemail">Select User Type</label>
									<p
										style="margin-bottom:4%;padding:9px;border:1px solid lightgrey;border-radius:2px">
										Service Man
										<input type="radio" name="type" value="service_man"
											onclick="showTerms(this.value)">
										<span style="margin-left:2%">Customer</span>
										<input type="radio" name="type" value="customer"
											onclick="showTerms(this.value)">
									</p>

									<div id="serviceManTerms" style="display: none;">
										<div class="text-center">
											<h5>Service Man Terms and Conditions</h5>
										</div>
										<div class="text-center my-3">
											<span>Here are the terms and conditions for Service Man...</span>
										</div>
										<div>
											<ul>
												<li>Eligibility: By creating a profile on the HomeCare website as a
													worker, you confirm that you are legally eligible to work in your
													respective field and comply with all applicable laws and
													regulations.</li>
												<li>Profile Accuracy: Workers are responsible for providing accurate and
													up-to-date information when creating their profile, including
													qualifications, experience, and availability for service provision.
												</li>
												<li>Service Offerings: Workers must accurately represent the services
													they offer on their profile. Any misrepresentation of services may
													result in account suspension or termination.</li>
												<li>Professional Conduct: Workers agree to conduct themselves in a
													professional manner when interacting with customers and providing
													services. This includes being punctual, respectful, and adhering to
													industry standards.</li>
												<li>Freelancer Status: By creating a profile on HomeCare, workers
													acknowledge that they are freelancers and not employees of HomeCare.
													Workers are responsible for managing their own schedules, taxes, and
													insurance coverage.</li>
												<li>Service Completion: Workers agree to complete services to the best
													of their ability and in accordance with the terms agreed upon with
													the customer. Any disputes regarding service completion should be
													addressed promptly and professionally.</li>
												<li>Payment: Workers agree to accept payment for services rendered
													either in cash or through the online payment system facilitated by
													HomeCare. HomeCare is not responsible for any payment disputes
													between workers and customers.</li>
												<li>Safety and Liability: Workers are responsible for ensuring their own
													safety and the safety of others while providing services. HomeCare
													is not liable for any damages, injuries, or losses incurred during
													the provision of services.</li>
												<li>Intellectual Property Ownership: Workers retain ownership of any
													intellectual property rights associated with their services and
													materials provided. By using the HomeCare platform, workers grant
													HomeCare a non-exclusive license to use their content for
													promotional purposes.</li>
												<li>Termination: HomeCare reserves the right to terminate or suspend
													worker accounts that violate these terms and conditions or engage in
													fraudulent or unlawful activities. HomeCare reserves the right to
													terminate worker accounts that repeatedly violate the Service
													Request Acceptance Policy, jeopardizing the reliability and
													integrity of the platform.</li>
												<li>Terms and Conditions Updates: HomeCare may update these terms and
													conditions from time to time, and users are encouraged to review
													them periodically for any changes.</li>
												<li>No-Cancellation Policy: To ensure reliability and professionalism,
													HomeCare enforces a strict no-cancellation policy once a service
													request has been accepted by a worker.</li>
												<li>Communication: If there are any changes or unforeseen circumstances
													that may affect the completion of the service, both the customer and
													the worker should communicate promptly to find a resolution.</li>
												<li>Exceptional Circumstances: In rare cases of extreme circumstances or
													emergencies, HomeCare may consider exceptions to the no-cancellation
													policy at its discretion.</li>
												<li>* Non-Compete: Workers agree not to solicit or provide services
													directly to customers who were acquired through the HomeCare
													platform for a specified period after their last interaction with
													the customer.</li>
											</ul>
										</div>
										<div class="mt-4">
											<label>
												<input type="checkbox" id="agreeCheckbox"> I agree to the terms and
												conditions
											</label>
										</div>
									</div>

									<div id="customerTerms" style="display: none;">
										<div class="text-center">
											<h6>Customer tearms and conditions</h6>
										</div>
										<div class="text-center my-3">
											<span>Here are the terms and conditions for Customers...</span>
										</div>
										<div>
											<ul>
												<li>Customer Profile Accuracy: Customers are responsible for providing
													accurate information when creating a profile and when requesting
													services.</li>
												<li>Worker Quality and Reliability: HomeCare does not guarantee the
													quality or reliability of freelance workers, and customers are
													encouraged to review worker profiles, ratings, and reviews before
													booking services.</li>
												<li>Payment :Payment for services rendered can be made either in cash or
													online through the HomeCare platform. HomeCare is not responsible
													for any payment disputes between customers and freelance workers.
												</li>
												<li>Safety Responsibility of Customers: Customers are responsible for
													providing a safe working environment for freelance workers and must
													adhere to all local laws and regulations regarding home services.
												</li>
												<li>Termination: HomeCare reserves the right to terminate or suspend
													profiles and services for any user found to be in violation of these
													terms and conditions or engaged in illegal or unethical behaviour.
												</li>
												<li>Terms and Conditions Updates: HomeCare may update these terms and
													conditions from time to time, and users are encouraged to review
													them periodically for any changes.</li>
												<li>Acknowledgment of Agreement: By creating a profile on HomeCare's
													website, you acknowledge that you have read, understood, and agree
													to these terms and conditions.</li>
												<li>Safety Precautions: Users agree to take necessary precautions to
													ensure their safety and the safety of others when utilizing HomeCare
													services. HomeCare is not liable for any damages, injuries, or
													losses incurred during the provision of services</li>
												<li>Privacy Policy Compliance: HomeCare respects the privacy of its
													users and complies with all applicable privacy laws. By using the
													platform, users consent to the collection, use, and disclosure of
													their personal information as outlined in the HomeCare Privacy
													Policy.</li>
												<li>Intellectual Property Ownership: All content and materials provided
													on the HomeCare website, including but not limited to logos,
													trademarks, and service descriptions, are the property of HomeCare
													and may not be used without prior authorization.</li>
												<li>Communication: If there are any changes or unforeseen circumstances
													that may affect the completion of the service, both the customer and
													the worker should communicate promptly to find a resolution.</li>
												<li>Prohibited Activities: Users agree not to engage in any illegal,
													fraudulent, or harmful activities on the HomeCare platform,
													including but not limited to spamming, hacking, or impersonation.
												</li>
												<li>Fair Use Policy: Users agree to use the HomeCare platform in a
													manner consistent with its intended purpose and not to abuse or
													misuse the platform for personal gain or malicious intent.</li>
												<li>Service Availability: While HomeCare strives to provide
													uninterrupted access to its platform, users acknowledge that the
													website may be subject to downtime for maintenance, updates, or
													other reasons beyond HomeCare's control.</li>
												<li>Consent to Electronic Communications: By using the HomeCare
													platform, users consent to receive electronic communications from
													HomeCare, including but not limited to notifications, newsletters,
													and promotional offers.</li>
												<li>- By creating a profile on the HomeCare website, you acknowledge
													that you have read, understood, and agree to abide by these terms
													and conditions.</li>
											</ul>
										</div>
										<div class="mt-4">
											<label>
												<input type="checkbox" id="agreeCheckbox"> I agree to the terms and
												conditions
											</label>
										</div>
									</div>
								</div>
							</div>
							<div>
								<button type="submit" class="btn btn-info btn-block">Register</button>
							</div>
						</form>
					</div>
					<!--  //contact form grid ends here -->
				</div>
				<!-- contact details -->

				<!-- contact map grid -->

				<!--//contact map grid ends here-->
			</div>
		</div>
	</section>
</section>
<!-- //contact -->
<script>
	function showTerms(value) {
		var serviceManTerms = document.getElementById('serviceManTerms');
		var customerTerms = document.getElementById('customerTerms');
		var serviceManCheckbox = document.getElementById('serviceManCheckbox');
		var customerCheckbox = document.getElementById('customerCheckbox');

		if (value === 'service_man') {
			serviceManTerms.style.display = 'block';
			customerTerms.style.display = 'none';
			serviceManCheckbox.required = true;
			customerCheckbox.required = false;
		} else if (value === 'customer') {
			serviceManTerms.style.display = 'none';
			customerTerms.style.display = 'block';
			serviceManCheckbox.required = false;
			customerCheckbox.required = true;
		} else {
			serviceManTerms.style.display = 'none';
			customerTerms.style.display = 'none';
			serviceManCheckbox.required = false;
			customerCheckbox.required = false;
		}
	}
	function validateContact(input) {
		input.value = input.value.replace(/\D/g, '').slice(0, 10);
	}

	document.addEventListener("DOMContentLoaded", function () {
		const passwordInput = document.getElementById("pwd");
		const confirmPasswordInput = document.getElementById("cpwd");
		const form = document.querySelector("form"); // Adjust if your form has an ID
		const emailInput = document.getElementById("email");

		// Disable default browser validation
		form.setAttribute("novalidate", true);

		// Password strength validation
		passwordInput.addEventListener("input", function () {
			const password = passwordInput.value;
			const strongPasswordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\W_]).{8,}$/;

			if (password && !strongPasswordRegex.test(password)) {
				passwordInput.setCustomValidity("Weak password");
			} else {
				passwordInput.setCustomValidity("");
			}
		});

		// Form submission validation
		form.addEventListener("submit", function (event) {
			const password = passwordInput.value;
			const confirmPassword = confirmPasswordInput.value;
			const strongPasswordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\W_]).{8,}$/;

			// Check empty password
			if (!password.trim()) {
				alert("Password field cannot be empty!");
				event.preventDefault();
				return;
			}

			// Check password strength
			if (!strongPasswordRegex.test(password)) {
				alert("Weak password! Must contain uppercase, lowercase, number, special character, and be at least 8 characters.");
				event.preventDefault();
				return;
			}

			// Check if passwords match
			if (password !== confirmPassword) {
				alert("Passwords do not match!");
				event.preventDefault();
				return;
			}
		});

		// Forgot password link check
		const forgotLink = document.getElementById("forgot-password-link");
		if (forgotLink) {
			forgotLink.addEventListener("click", function (event) {
				if (!emailInput || !emailInput.value.trim()) {
					alert("Please enter your email before requesting a password reset!");
					event.preventDefault();
				}
			});
		}
	});

</script>{% endblock %}